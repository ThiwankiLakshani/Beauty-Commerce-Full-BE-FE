{% extends "base.html" %}
{% block title %}Attributes — Admin{% endblock %}
{% block content %}
  <div class="bg-white/95 backdrop-blur shadow-soft border border-emerald-50 rounded-2xl p-6 md:p-8">

    <!-- Header -->
    <div class="flex items-start md:items-center justify-between gap-4">
      <div class="space-y-1">
        <h1 class="text-2xl font-bold text-slate-800">Attributes (Face)</h1>
        <p class="text-slate-500 text-sm">
          Manage selectable options used in products. Enter <span class="font-medium">one value per line</span>.
        </p>
      </div>
      <form method="post" action="{{ url_for('attributes_update_admin') }}" class="hidden md:block">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <button class="inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-white bg-emerald-600 hover:bg-emerald-700 focus-visible:ring-2 focus-visible:ring-emerald-300 transition">
          <svg class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor"><path d="M17 6l-3-3H5a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V6zM5 5h8v4H5V5z"/></svg>
          Save
        </button>
      </form>
    </div>

    <!-- Main form -->
    <form class="mt-6 space-y-8" method="post" action="{{ url_for('attributes_update_admin') }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <!-- Skin Types -->
        <div class="rounded-xl border border-slate-100 p-4">
          <div class="flex items-center justify-between mb-2">
            <label class="block text-sm font-medium text-slate-700">Skin Types (one per line)</label>
            <span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-700">
              {{ (attrs.skin_types or [])|length }} items
            </span>
          </div>
          <textarea
            name="skin_types"
            rows="12"
            class="w-full px-4 py-3 rounded-xl border border-slate-200 bg-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-300 focus:border-emerald-400 transition"
            placeholder="Normal&#10;Dry&#10;Oily&#10;Combination&#10;Sensitive"
          >{% for s in attrs.skin_types or [] %}{{ s.label }}
{% endfor %}</textarea>
          <p class="mt-2 text-xs text-slate-500">Tip: Keep labels short (e.g., “Dry”, “Oily”).</p>
        </div>

        <!-- Concerns -->
        <div class="rounded-xl border border-slate-100 p-4">
          <div class="flex items-center justify-between mb-2">
            <label class="block text-sm font-medium text-slate-700">Concerns (one per line)</label>
            <span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-700">
              {{ (attrs.concerns or [])|length }} items
            </span>
          </div>
          <textarea
            name="concerns"
            rows="12"
            class="w-full px-4 py-3 rounded-xl border border-slate-200 bg-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-300 focus:border-emerald-400 transition"
            placeholder="Acne&#10;Dark spots&#10;Wrinkles&#10;Dryness&#10;Redness"
          >{% for c in attrs.concerns or [] %}{{ c.label }}
{% endfor %}</textarea>
          <p class="mt-2 text-xs text-slate-500">One concern per line; these show up as selectable chips.</p>
        </div>
      </div>

      <!-- Actions -->
      <div class="flex items-center justify-end gap-2 pt-2 border-t border-slate-100">
        <a href="{{ url_for('attributes_view_admin') }}"
           class="inline-flex items-center px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition">
          Cancel
        </a>
        <button
          class="inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-white bg-emerald-600 hover:bg-emerald-700 focus-visible:ring-2 focus-visible:ring-emerald-300 transition"
          type="submit">
          <svg class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor"><path d="M17 6l-3-3H5a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V6zM5 5h8v4H5V5z"/></svg>
          Save Attributes
        </button>
      </div>
    </form>
  </div>
{% endblock %}
